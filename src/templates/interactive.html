{% extends "base.html" %}
{% block content %}


<body>

    <div class="container">
        <h3>Welcome!  Best programming language</h3>
            <form>
                <input type="text" size="15" name="proglang" id="text_input" value="CUP">
                <a href="#" id="process_input"><button class="btn btn-default">Submit</button></a>
            </form>
            <form>
                <select class="custom-select" id="series_drop_down" name="series_drop_down">
                <option id="test_option"></option>
                </select>
            </form>
        <p>{{ ser_list[30]["race_name"] }}</p>
        <p id="result"></p>
   </div>
        <ul class="list-group" id="other">
            <li class="list-group-item" id="first"></li>
        </ul>

<script>
    $(document).ready(function() {
        $('#process_input').bind('click', function() {
            $.ajax({
            type: "GET",
            url: "/backgroundProcess",
            processData: "true",
            data: {proglang: $('input[name="proglang"]').val()},
            dataType:"json",
            success: function(data) {
                var stuff = data[40].race_name
                console.log(data);
                console.log(stuff);
                $("#test_option").text(stuff);
                //race_data = '';
                //$select.find('<option>').remove();
                //$.each(data, function(key, value) {
                //    race_data += '<option>'+value.race_name+'</option>';
                //});  // end each
                //$('#series_drop_down').append(race_data);
            }  //end success
            });  //end ajax
        });  // end process input
    });  //end ready

    //$("#series_drop_down").text(data[0]["race_name"]);
    //},
    //error: function(x,y,z) {
    //console.log(x);
    //console.log(y);
    //console.log(z);
    //}

   // $.getJSON('/backgroundProcess', {
   // 'proglang' : $('input[name="proglang"]').val(),
   // }, function(data) {
   // $("#result").text(data.result);

    //});
    //return false;
    //});  // end process_input
    //});  //end ready
</script>

</body>


{% endblock %}